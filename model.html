<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bohr Model Drawer â€“ Chem 11</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root {
    /* --- DARK THEME --- */
    --bg: #050816;
    --panel: #0b1020;
    --accent: #38bdf8;
    --accent-soft: rgba(56,189,248,0.15);
    --accent-2: #22c55e;
    --text: #e5e7eb;
    --muted: #9ca3af;

    --shell: rgba(148,163,184,0.7);
    --electron: #38bdf8;

    --nucleus1: #22c55e;
    --nucleus2: #16a34a;
    --nucleus3: #052e16;

    /* NEW: nucleus text color in dark mode */
    --nucleus-text: #e5e7eb;
  }

  /* --- LIGHT THEME OVERRIDES --- */
  body.light {
    --bg: #ffffff;
    --panel: #f0f0f0;

    --accent: #000000;
    --accent-soft: rgba(0,0,0,0.1);
    --accent-2: #000000;

    --text: #000000;
    --muted: #444444;

    --shell: rgba(0,0,0,0.5);
    --electron: #000000;

    --nucleus1: #000000;
    --nucleus2: #444444;
    --nucleus3: #aaaaaa;

    /* NEW: nucleus letter should be white */
    --nucleus-text: #ffffff;
  }

  * { box-sizing: border-box; }
  body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    background: var(--bg);
    color: var(--text);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    padding: 24px 8px 40px;
    transition: background 0.3s, color 0.3s;
  }

  .app {
    background: var(--panel);
    border-radius: 20px;
    border: 1px solid rgba(148,163,184,0.4);
    max-width: 960px;
    width: 100%;
    padding: 20px 22px 26px;
  }

  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  header h1 {
    margin: 0;
    font-size: 1.5rem;
  }

  .toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    user-select: none;
  }
  .toggle input {
    transform: scale(1.2);
  }

  .layout {
    display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 18px;
    margin-top: 18px;
  }
  @media (max-width: 800px) {
    .layout { grid-template-columns: 1fr; }
  }

  .canvas-wrap {
    border: 1px solid var(--shell);
    border-radius: 16px;
    padding: 12px;
  }

  canvas {
    width: 100%;
    max-width: 500px;
    aspect-ratio: 1/1;
    display: block;
    margin: auto;
    background: var(--bg);
    transition: background 0.3s;
  }

  .controls {
    border: 1px solid rgba(148,163,184,0.35);
    border-radius: 16px;
    padding: 14px;
  }

  label {
    font-size: 0.8rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.12em;
  }

  select, input[type="number"] {
    width: 100%;
    padding: 8px;
    border-radius: 10px;
    border: 1px solid var(--muted);
    background: var(--panel);
    color: var(--text);
  }

  .stats {
    margin-top: 12px;
    padding: 10px;
    border-radius: 12px;
    background: var(--accent-soft);
  }
</style>
</head>

<body>
<div class="app">
  <header>
    <h1>Bohr Model Drawer</h1>

    <!-- Theme Toggle -->
    <label class="toggle">
      <input id="themeToggle" type="checkbox">
      <span>Light Mode</span>
    </label>
  </header>

  <div class="layout">

    <section class="canvas-wrap">
      <canvas id="bohrCanvas" width="520" height="520"></canvas>
    </section>

    <section class="controls">
      <label>Choose Element</label>
      <select id="elementSelect">
        <option value="1">H (1)</option>
        <option value="3">Li (3)</option>
        <option value="8" selected>O (8)</option>
        <option value="11">Na (11)</option>
        <option value="12">Mg (12)</option>
        <option value="17">Cl (17)</option>
        <option value="20">Ca (20)</option>
      </select>

      <div style="margin-top:10px;">
        <label>Atomic Number (Z)</label>
        <input id="atomicNumber" type="number" min="1" max="20" value="8" />
      </div>

      <div class="stats" id="stats"></div>
    </section>
  </div>
</div>

<script>
const canvas = document.getElementById("bohrCanvas");
const ctx = canvas.getContext("2d");
const elementSelect = document.getElementById("elementSelect");
const atomicInput = document.getElementById("atomicNumber");
const statsDiv = document.getElementById("stats");
const themeToggle = document.getElementById("themeToggle");

const elements = {
  1:"H", 3:"Li", 8:"O", 11:"Na", 12:"Mg", 17:"Cl", 20:"Ca"
};

function electronShells(Z) {
  const caps = [2,8,8,18];
  const shells = [];
  let left = Z;
  for (let cap of caps) {
    shells.push(Math.min(cap, left));
    left -= cap;
    if (left <= 0) break;
  }
  return shells;
}

function drawBohr(Z) {
  const symbol = elements[Z] || "?";
  const shells = electronShells(Z);

  ctx.clearRect(0,0,canvas.width,canvas.height);
  const cx = canvas.width/2;
  const cy = canvas.height/2;

  const maxR = 200;
  const gap = maxR/(shells.length+1);

  // shells
  ctx.strokeStyle = getComputedStyle(document.body).getPropertyValue('--shell');
  ctx.lineWidth = 1.5;

  shells.forEach((_,i)=>{
    ctx.beginPath();
    ctx.arc(cx, cy, gap*(i+1), 0, Math.PI*2);
    ctx.stroke();
  });

  // electrons
  ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--electron');

  shells.forEach((count, i)=>{
    const r = gap*(i+1);
    for(let j=0; j<count; j++){
      const ang = (2*Math.PI*j)/count;
      const x = cx + r * Math.cos(ang);
      const y = cy + r * Math.sin(ang);
      ctx.beginPath();
      ctx.arc(x,y,6,0,Math.PI*2);
      ctx.fill();
    }
  });

  // nucleus gradient
  const cs = getComputedStyle(document.body);
  const g = ctx.createRadialGradient(cx,cy,5,cx,cy,30);
  g.addColorStop(0, cs.getPropertyValue('--nucleus1'));
  g.addColorStop(0.5, cs.getPropertyValue('--nucleus2'));
  g.addColorStop(1, cs.getPropertyValue('--nucleus3'));

  ctx.fillStyle = g;
  ctx.beginPath();
  ctx.arc(cx,cy,30,0,Math.PI*2);
  ctx.fill();

  // nucleus symbol TEXT (updated!)
  ctx.fillStyle = cs.getPropertyValue('--nucleus-text');
  ctx.font = "bold 24px system-ui";
  ctx.textAlign = "center";
  ctx.fillText(symbol, cx, cy+3);

  statsDiv.innerHTML = `
    <strong>${symbol}</strong> (Z = ${Z})<br>
    Shells: ${shells.join(" / ")} electrons
  `;
}

// sync dropdown + inputs
elementSelect.addEventListener("change", ()=>{
  const Z = parseInt(elementSelect.value);
  atomicInput.value = Z;
  drawBohr(Z);
});
atomicInput.addEventListener("input", ()=>{
  let Z = parseInt(atomicInput.value);
  if (Z<1) Z=1;
  if (Z>20) Z=20;
  atomicInput.value = Z;
  elementSelect.value = Z;
  drawBohr(Z);
});

// theme toggle
themeToggle.addEventListener("change", ()=>{
  if (themeToggle.checked) {
    document.body.classList.add("light");
  } else {
    document.body.classList.remove("light");
  }
  drawBohr(parseInt(atomicInput.value));
});

// initial
drawBohr(8);
</script>

</body>
</html>

